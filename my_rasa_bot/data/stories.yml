version: "3.1"

stories:

# -------------------------
# Happy path: user asks soil health -> gives SHC -> bot fetches & recommends
# -------------------------
- story: Soil health -> crop recommendation (happy path)
  steps:
  - intent: soil_health
  - action: utter_ask_shc_id
  - intent: provide_shc_id
  - action: action_process_soil_data
  - action: action_recommend_crop

# -------------------------
# User has no SHC (deny) -> give basic help + recommendation fallback
# -------------------------
- story: Soil health -> no SHC available
  steps:
  - intent: soil_health
  - action: utter_ask_shc_id
  - intent: deny
  - action: utter_no_shc_help
  - action: action_recommend_crop

# -------------------------
# Direct crop prediction request (alternative entry)
# -------------------------
- story: Direct crop prediction request (use SHC if provided)
  steps:
  - intent: crop_prediction
  - action: utter_ask_shc_id
  - intent: provide_shc_id
  - action: action_process_soil_data
  - action: action_recommend_crop
